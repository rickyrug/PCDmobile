<!DOCTYPE html>
<html>
<head>
  <title>Device Speed Measurement</title>
   <!-- Include jQuery -->
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
   <!-- Include the BlockUI Plugin -->
   <script src="jquery.blockUI.js"></script>
</head>
<body>
  <h1>Device Speed Measurement</h1>
  <h2 id="speed">Speed: </h2>
  <p id="geolocs"></p>
  <table>
    <th>
      <tr>Speed MS</tr>
    </th>
    <tr>
      <td id="speed"></td>
    </tr>
  </table>
  <script>
    // Check if the Geolocation API is supported by the browser
    if ("geolocation" in navigator) {
      const options = {
        enableHighAccuracy: true,
        maximumAge: 30000,
        timeout: 27000,
      };
      // Retrieve the current position
      navigator.geolocation.watchPosition(handlePositionUpdate,handlePositionUpdate,options);
    } else {
      alert("Geolocation not supported.");
    }

    function handlePositionUpdate(position) {
      // Check if the position contains speed information
      console.log(position)
      document.getElementById('geolocs').textContent = position;

      if (position.coords.speed !== null) {
        // Update the HTML element with the speed value
        var speedMS = position.coords.speed.toFixed(2);
        var speedKMH = speedMS * 3.6;
        var speedMPH = speedMS * 2.237;

        document.getElementById('speed').textContent = 'Speed: ' + position.coords.speed.toFixed(2) + ' m/s';
      } else {
        document.getElementById('speed').textContent = 'Speed information not available.';
      }
    }
  </script>
</body>
</html>